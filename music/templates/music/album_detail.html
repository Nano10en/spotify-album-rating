{% load static %}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{ album.name }}</title>
</head>
<body>
    <h1>{{ album.name }}</h1>
    <p>Artist: {% for artist in album.artists %}
                    {{ artist.name }}{% if not forloop.last %}, {% endif %}
                {% endfor %}</p>
    <p>Release Date: {{ album.release_date }}</p>
    <img src="{{ album.images.0.url }}" alt="{{ album.name }} Cover" width="300" height="300">

    <form action="{% url 'create_comment' album.id %}" method="post">
        {% csrf_token %}
        <label for="rating">Rating: 1-10</label>
        <input type="number" id="rating" name="rating" min="1" max="10" required>

        <label for="comment">Comment:</label>
        <input type="text" id="comment" name="comment" required>

        <button type="submit">Submit Rating</button>
    </form>

    <h2>Comments</h2>
    {% for comment in comments %}
        <div>
            <p><strong>{{ comment.author.spotifyprofile.display_name }}</strong>: {{ comment.content }} (Rating: {{ comment.rating }}/10)</p>
        </div>
    {% empty %}
        <p>No comments yet.</p>
    {% endfor %}
</body>
</html>